# PyStock - A Simplified Stock Prediction Tool with Machine Learning

## Description

PyStock provides streamlined stock price forecasting leveraging historical data and machine learning. It is designed for users who want quick access to predictions without extensive data preparation or complex model training workflows and offers a simplified way to explore potential market moves. The system takes daily stock price data, performs feature engineering (e g. moving averages), applies a trained regression model like Linear Regression, and delivers future stock price estimates.

This tool's key advantage lies in its user-friendly interface and minimal configuration. It avoids the complexity of deep learning networks in favor of readily explainable and efficient regression techniques. Py Stock allows users to quickly analyze a specific stock's potential performance based on historical trends.  It' is a practical solution for beginners exploring stock market analysis and quick forecasting scenarios.

PyStock utilizes Pandas for data manipulation, Scikit-learn for model building and evaluation, and Matplotlib for generating interactive visualizations of historical trends and projected future stock values. This modular approach provides scalability. We'll add support for a more robust time series models, and additional indicators to increase its prediction quality in later revisions.

We prioritize speed and simplicity without compromising essential features like trend visualizations and prediction reporting. PyStock also supports the exporting of predicted values as CSV, facilitating the use in further analytical applications. This exportability makes it versatile within an existing investment or trading system.

Future enhancements for PyStock includes expansion for cryptocurrency predictions. The goal of extending support would be based upon feedback. PyStock currently works for any asset with accessible, historical market data via API access with an open API, like Yahoo Finance or IEX Cloud. This adaptability and future extensibility makes PyStock attractive across many potential investment and trading applications.

## Installation Instructions

Before proceeding, ensure you have Python 3.8 or higher installed on your system. Python versions below 3.8 might be incompatible due to library dependencies. A suitable IDE like VS Code or PyCharm can simplify development, though command-line usage is fully supported. We highly suggest setting up a Python virtual environment to avoid conflict with globally installed packages.

Create a new directory for your project, for example, `pystock-project`.  Then, navigate into that directory using your terminal: `cd pystock-project`. Within that project folder create a file named `requirements.txt` which will list out Python libraries required. It helps manage version conflicts during project updates or sharing with contributors.

Using `pip`, install the required packages specified in the `requirements.txt` file: `pip install -r requirements.txt`. This will automatically fetch and install dependencies from the PyPI (Python Package Index) ensuring compatibility across systems and platforms. It is crucial to verify successful installation of each dependency by inspecting your environment with the pip freeze.

For macOS, you may encounter permissions issues when using `pip`. This typically requires using the sudo command, though its use should be generally avoided for package installation unless you're comfortable modifying environment settings and security permissions, in general using a venv should prevent these types of problems.  Consider creating an `venv` in place of a global installation in such cases.

On Windows, using an administrative terminal to execute the `pip install` command might be required, due to user-level file access restriction during software installations. You can typically do so via `Start Menu -> Search `CMD` -> Right-click and choose Run as administrator`. This provides access to elevated system permissions required for certain operations.

Linux-based systems are less likely to pose issues; the installation command works reliably as expected when using `pip` to handle the dependency setup process in the `pystock-project` working folder in a virtual Python Environment (recommended). Ensure `pip` itself is updated by `pip install --upgrade pip` for optimal compatibility, as newer pip features are regularly updated to address dependency versioning and system installation challenges

Verify library dependencies are resolved successfully and accessible through importing libraries like `pandas`, `scikit-learn`, and `matplotlib` inside of Python interpreter to confirm the packages and its associated functionalities. A missing `package` or `ModuleNotFoundError` error means something in your system or pip configuration failed and you must troubleshoot your environment and installation before you begin. 

To simplify future workflows for other contributors it would be preferrable if they use Docker container for running the PyStock system instead, to minimize environment dependencies

## Usage Instructions

To initiate stock prediction with PyStock, navigate to the directory containing the Python script. You will typically run `python main.py <stock_symbol> <num_predictions>`, specifying a valid stock symbol, for example `MSFT` which refers to Microsoft and number of prediction period to run for the analysis

To download sample CSV from the stock symbol `AAPL`, use this call in your command terminal or shell `python main.py AAPL 10` for 10 daily forecasts to run against this most famous apple product corporation on Earth!

Before using any external financial services (i.e, Alpha Vantage APIs) ensure their APIs have sufficient permissions. By configuring environment variables, we can set our API key. These environment variable configuration details must occur for PyStock can access real-time data to feed prediction algorithm for analysis

When using command line, if `pandas` fails on a certain operating system or version you can install using an alternative approach, by downloading pandas via an interactive Python session `conda install -c conda-forge pandas`. The package can then imported into main program for stock forecasting functionality and reporting

To explore predictions graphically using matplotlib library, use `--plot` in PyStock program for real-time chart generation on desktop environment to visually track historical values versus generated predicted value forecasts. For advanced analysis and automation purposes export CSV for importing to external software and visualization platform tools using option ` --export_csv`, and it generates data file that's suitable for data science pipelines or machine learning models,

In scenarios requiring custom data preparation for training ML algorithms or fine-tuning existing models you must create your customized data preprocessing function or load from custom source, as stock prediction can benefit by adding custom factors and data to refine prediction models accuracy or to fit your trading requirements better.  You can easily load the dataset with any `data` and feed this as the first arguments, for a better customized analysis workflow experience.

## Configuration

The primary method for configuring PyStock is through environment variables, providing flexibility and preventing sensitive data from being hardcoded. Set up environment variable using `export <variable_name>=<value>` on the shell and `set <variable_name>=<value>` for PowerShell and `setx` to set them persistently. It ensures configuration data and secret are managed with ease.

First configure the Yahoo API access keys, as the program currently utilizes them for data downloading to enable real-time market information updates from the Yahoo finance. Set this `YAHOO_API_KEY=<your-API-key>`. These can be found from yahoo's open-access data portal. Ensure proper permissions, as some functions may require paid subscription access

Second, for API requests, it would also configure the time window that will used, `HISTORICAL_WINDOW=365`. For example, the default time for training the regression will be one year's of stock historical trends which can affect accuracy for certain predictions if there isn;t sufficient time data

Customizable feature Engineering settings include moving average lengths. The `MOVING_AVERAGE_LENGTHS=[10, 50, 200]` can be defined by user for stock forecast analysis purposes which helps to filter stock noise. A shorter `length` will give greater focus on stock recent movements

Third for better customization export settings and output, define file name prefix via  the keyword: `EXPORT_PREFIX="stock_"` in command to customize name generated from exporting predictions, or use commandline argument,

Finally define model hyperparameter tuning settings to enhance model precision. These hyperparameters can fine-tune stock predictions to meet particular requirements using advanced configurations to maximize predictive results based off training.  The program currently uses linear regression which provides an excellent basis and benchmark for model development, but further experimentation can enhance performance.

To set configurations using command arguments `stock --help` can print available commands, parameters with which you can use

## Project Structure

The PyStock project is structured for maintainability and extensibility. The main `main.py` file initiates prediction. It contains all of our core algorithms, and it is also used in command line

```
pysto