# Task Management Engine (TME)

This repository contains code, instructions, and supporting documents related to TME, a modular and configurable Python library facilitating the efficient organization, tracking, and management of various tasks, ranging from personal to professional workflows. The focus has been designed around ease of use, flexibility in integrating external tools like calendar and notification providers, and a robust internal data architecture that prioritizes data integrity even through edge cases of usage.

**Overview** TME is engineered to be easily integrated into various systems, offering a flexible core engine and a range of plugable extensions. Users can define task types with tailored attributes, set recurring schedules, track task dependencies, and automate workflows with integrated event hooks. A core focus throughout the project's development was designing around maintainability. 

**Target Audience** This library will assist individual productivity, software engineers, researchers organizing experiments, teams tracking projects or agile methodologies. We aim for a broad user base across a spectrum.  

**Core Components**
   * Task Core: Provides the foundation for task definition, storage, and state transitions.
    * Scheduling System: Handles recurrence rules for periodic task creation.
     * Plugin Interface: Allows for easy expansion of the library with third- party tools, such as integration with calendar services or messaging platforms. 
    * Reporting and Analytics: Generate detailed metrics about task performance, enabling optimization of personal or business workflows.

**Architecture** The TME is implemented using a microservice design pattern, where distinct modules, namely core functionality, schedule management component, and external integrations are deployed independently with well-defined APIs. Communication among these microservices utilizes a REST framework, facilitating seamless data exchange and modular scalability. The data is persistent in a relational database that can be customized, like PostgreSQL, ensuring data security and availability.

## Installation

The installation process should be straightforward, provided the dependencies are installed on the system first. It is advised to work with the project in a Python virual environments, to help with dependencies, as follows:

First, ensure that that you have python 3. 8 or superior and `pip` properly installed on you local or virtual environment. You could also consider a tool like `poetry` to manage the Python environment.
   
Next, using the `pip tool create a v env`, and make sure to activate this before proceeding, or the installation may not complete correctly, resulting in error code 1.  

```bash
python3 - m venv my_tme_workspace  # Creates a new environment
source my_ tme _ Workspace / bin ./ activate  #  On Linux/ macOS activate
my_tmeworkspace\ Scripts\activate  #  Windows activate

 ```

Now, install the core dependencies of the TME library.  It should also install all the other dependencies, and if the installation has issues, try installing the package again or checking the system. 

   ```bash
     pip install TME 
   ```    

If any errors occur during the process, it is often due to conflicts with previously installed packages, or the lack of build tools on the local system, in this scenario, the best option is to update pip and rerun the package installer to see if the issue can get addressed this way.   

We currently target Python 3.8 or later, on all operating platforms and we will continue to test for cross platform compatibility as the library matures to handle edge conditions.  

The library can be installed using `pip`, the Python standard tool package installer from within a terminal.  

## Usage

TME can be integrated seamlessly into a variety of applications. This example demonstrates some fundamental usage. 

First, import the required libraries, `task_manager` which is where the core logic of the package is located from the module `tme`

  ```python
import tme

# Create tasks and assign to a category
tm = tme. Task_Manager();
task1   = tm.add_task("Grocery Shopping ", "Shopping Category")
task2 = tm.add_task("Pay Bills", "Finance");
tm = tm.assign_dependency( task1,task2)
  ```

For more elaborate examples with schedule settings, and recurring settings, it is advised, to check the `tests` directory in the repository where multiple unit and integration test cases have been implemented to ensure functionality is operating as intended by the developers and that the user experience is not impacted when using the core functionality, extensions, or APIs. 

Advanced usage involves leveraging the plugin framework, extending the T ME engine with your own custom integrations, or creating complex event- driven chains using the event management system that can be configured.  

The task manager can be queried by category.  

```python
for task in tm.get tasks_by_type (" Finance"):
    print(task) # Display the task
    
tm.mark_completed(" Pay Bills");# Update the task status to complete, and store
    ```

TME also has a CLI tool available that can be executed with `tme - command` where `command can be help, status, or other custom commands`.  

You can configure it via a YAML or JSON file that will determine the behaviour, the location of the persistence, how the scheduler operates, and many other options.  

## Configuration

The TME's functionality is controlled using a configuration file, allowing fine-grained adjustments to its operational attributes. The supported configuration format is ` YAML ` files that allow human friendly configuration.

   To configure a task's recurrence, specify a " schedule " key in the configuration object, and then set the " interval " to define when a task repeats, the " duration " to specify the time of the recurrence and " end_date " to define a final date for recurring instances of a specific instance.  

You can override the database path and type, and customize the reporting and analytics. The location is ` conf/config.yaml`.  

The system relies on the `DATABASE_URL ` and a ` SCH DULE_ENABLED ` boolean value to ensure functionality in different environments, where the ` SCH DULE_ENABLED ` value will enable the scheduling and recurring events in the system, where the scheduler uses the ` APSCHEDULE ` module to run the tasks according to their specified recurrence patterns, enabling a seamless automated task handling workflow, where tasks get executed on a schedule.  

The system relies on the `DATABASE_URL ` and an ` EXTERNAL_PLUGINS ` environment variable. ` EXTERNAL_PLUGINS `  can list a number of custom plugin extensions, that can expand the library, to connect to services, like calendar and event notification, where plugins can be dynamically loaded and integrated into the T ME system, extending its capabilities without requiring code modifications, promoting flexibility, adaptability of the platform.  

You could override settings in a .env file or using environment variable settings to ensure proper configuration during development or deployment cycles of the application.  

 ## Structure

The project follows a well-defined structure to promote clarity, scalability and maintainability, where the main directories have distinct purposes.  

* `/src`:  Contains the core source files written in standard Python. This directory houses the `tme` folder and associated packages that implement the TMEs logic and components.
* `/src/tme`:  Houses the Python modules comprising the T M E's internal workings and functionalities, including data structures, classes, algorithms, and helper functions, forming the foundation of the task management engine and enabling the system to function.
* `/docs`: Contains all documents. Includes the `README`.

* `/conf`: Includes all the YAML configuration files.
* `/tests` : Contains unit, integration, and end- to-end tests for the T M E, ensuring robustness and stability, covering a wide set of scenarios and edge cases that may arise during the usage.  
* `/utils`:  Contains the utility tools, such as the configuration manager.

 ## Contributing

We welcome contributors to improve the TME.  

To contribute, fork the repo and clone locally. Make necessary changes and push those into a new branch in the local workspace. Please ensure to follow Python coding standards and create a unit test, where possible to cover the introduced logic in code.

Report issues by submitting a new issue on the GitHub repository and follow the template for a comprehensive and detailed description. Pull requests can be submitted through GitHub, and a code review will be conducted, and feedback will be given on code quality before the integration into the master/main branch of the repository, with the purpose of maintain and improve T M Es robustness, stability, and usability and ensuring a seamless integration of contributions.

 ## License

This project is licensed under the [MIT License](LICENSE ), which ensures users can freely utilize and modify the T M E project, while acknowledging the original copyright holder in the project's code. It grants broad rights for using, distributing, modifying and using the T M E software.  

Users are free to incorporate the T M E into their personal or commercial projects, without any licensing restrictions or royalties payments.

## Acknowledgments

The TME project acknowledges the significant contributions from the Python open- source community, especially the ` apschedule ` library for the scheduling capabilities, as well as the ` SQLAlchemy ` ORM library, where the data integrity, persistence, and database connectivity have been implemented with a solid foundation of the Python community contributions. We also extend a gratitude to other open- source projects, like the ` Py Test ` testing framework, that provided invaluable resources.

## System Architecture

 TME adopts a component- based microservice architecture, where each component handles a specific responsibility, enabling modularity and scalability.

   * **Core Engine:**  Manages task definitions, storage, and workflows. It handles the primary task- related operations like creating, updating, deleting, and executing tasks. 
    * **Scheduler:**  The scheduling component leverages ` apschedule ` to handle periodic and event- driven task execution. 
 * **Data Persistence:** Relational databases, primarily ` PostgreSQL` store the tasks, their attributes and schedules.
* **Plugin Interface:** Enables external integrations.

The components communicate via a lightweight messaging system or a REST framework, where data exchanges occur in well-defined contracts, which ensure interoperability and loose decoupling, which makes it possible to evolve components independently. Data flows through the system, originating from user-defined tasks, which are processed by the core engine, managed by the scheduler and then persisted in the database.

## API Reference

   The TME library provides a simple, yet effective API, enabling easy interaction with the core functionalities

*  `Task.create(task_name ,category, description, recurrence, due_date)`: Create a new TME task instance. Parameters are self-explanatory
* `Task . update (task_id, updated_attributes)` Update the attribute on an existing instance
* `Task . delete(task_id)` Delete a task instance by task_ identifier
* `get_tasks (category, date_range ) ` : Retrieve a list of tasks.

## Testing

Testing is a first- class component of the T M E library, ensuring stability and reliability.

We utilize ` pytest` for unit , integration and end- to- end testing. All tests can be run locally by executing ` pytest ` command from the project directory in a local environment.  

The testing suite includes unit tests, which validates each function of the TME, integration testing, where multiple components are tested together to ensure their seamless interactions.  

To run end- to- end testing, a set of predefined tasks are created, executed and validated, to ensure the TME is fully functional, providing a comprehensive testing and validation of core functionalities.

## Troubleshooting

   A few common issues have been identified that may arise during use, and solutions are presented here. 

*   **Dependency Conflicts:** If the installation throws dependency error code , it might arise as dependency issues that could be due to a prior installed conflicting module on the environment. 
To solve this you could either remove it using ` pip uninsall ` from local and retry with a Python virutal environment that can isolate dependencies to the package, and the project requirements

*   **Database connection fails:** This error might occur when a connection can not be formed due to a incorrect credentials to an unavailable connection endpoint to your DB instance, or that you are pointing the environment settings with a DB which requires the configuration settings that do not match your setup in code, to resolve the situation review credentials. 

## Performance and Optimization

  For optimization of efficiency it can use ` Redis ` and caching, and asynchronous execution via Celery to reduce the processing of long tasks. It can utilize parallel execution and optimize queries in a database for faster executing operations in high volume tasks in a scalable fashion to improve efficiency for high volumes in production workloads

## Security Considerations

Ensure that sensitive secrets, passwords and authentication data remain secured at rest by implementing proper secret managements and environment settings. Avoid directly including such values in your configuration code, where you may risk inappropriate and unauthenticated data access and exposures by external parties by securing access and permissions for your data. Regularly perform code analysis with secure static analysis for known or possible injection attacks, vulnerabilities or potential security exposures,

## Roadmap

* [ ] Improve the plugin infrastructure and enable more dynamic plugin registration/management
* [ ] Support different task dependencies.  
* [ ]  Integration with Slack.
* [ ] Implement REST production server using fastAPI for deployment on production systems
* [ ] Develop enhanced reports to include data trends for long-running processes to assist optimizing workflows for efficiency
## FAQ

   Users can use a list to help navigate questions about TME:

 * What databases does TME support ? : Currently it uses relational Databases primarily `PostgreSQL ` with future considerations for MongoDB . 
 * Where can I report bugs/ request improvements ?: Report them as Github Issues
* What happens in an unexpected event?: All logs for all actions and errors and exceptions will show. The persistence to databases is guaranteed even on edge and edge use case conditions, where we will be continuously testing for all the conditions of edge scenarios in testing, as a best effort practice.
## Citation
Please use the following for your project:
   Authors:
   [Name(s) associated]

   Year of creation/update :[YYYY]

  
 TME - The open-source, flexible project management engine for Python, GitHub: ` <Link- GitHub project `  >  


## Contact

You can report errors via Github and we are working towards setting up a mailing list soon where we would send information. We encourage collaboration with the TME team, submit issues on our Github repo at your ease for feedback or feature requests to enhance our open- source capabilities, for the community!